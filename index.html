<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C. M. Conlan Contractors & Builders | Custom Home Builder in Montgomery County, MD</title>
  <meta name="description" content="Award-winning custom home builder and general contractor in Montgomery County, Maryland with over 35 years of experience in residential construction and renovations." />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Leaflet CSS for Interactive Map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

  <style>
    :root {
      --primary-dark: #1a2332;
      --primary-navy: #2c4056;
      --accent-gold: #c19a5b;
      --accent-warm: #8b7355;
      --text-dark: #2d2d2d;
      --text-light: #666666;
      --bg-cream: #f8f6f3;
      --bg-white: #ffffff;
      --border-light: #e5e5e5;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Montserrat", sans-serif;
      color: var(--text-dark);
      line-height: 1.7;
      overflow-x: hidden;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: "Cormorant Garamond", serif;
      font-weight: 600;
      line-height: 1.2;
      color: var(--primary-dark);
    }

    /* Header Navigation */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: var(--bg-white);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .header.scrolled {
      box-shadow: 0 2px 30px rgba(0, 0, 0, 0.12);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem 4rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 1rem;
      font-family: "Cormorant Garamond", serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-dark);
      text-decoration: none;
      letter-spacing: 0.5px;
    }

    .logo-image {
      height: 50px;
      width: auto;
    }

    .nav-menu {
      display: flex;
      list-style: none;
      gap: 2.5rem;
      align-items: center;
    }

    .nav-menu a {
      color: var(--text-dark);
      text-decoration: none;
      font-size: 0.95rem;
      font-weight: 500;
      letter-spacing: 0.3px;
      transition: color 0.3s ease;
      position: relative;
    }

    .nav-menu a:hover {
      color: var(--accent-gold);
    }

    .nav-menu a::after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--accent-gold);
      transition: width 0.3s ease;
    }

    .nav-menu a:hover::after {
      width: 100%;
    }

    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      min-width: 220px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      padding: 1rem 0;
      margin-top: 1rem;
      border-radius: 4px;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .dropdown-content a {
      display: block;
      padding: 0.8rem 1.5rem;
      font-size: 0.9rem;
    }

    .dropdown-content a::after {
      display: none;
    }

    .dropdown-content a:hover {
      background: var(--bg-cream);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.8rem;
      cursor: pointer;
      color: var(--primary-dark);
    }

    /* Hero Section - NEW DESIGN */
    .hero {
      margin-top: 80px;
      background: var(--bg-white);
    }

    .hero-text-section {
      background: var(--primary-dark);
      color: white;
      text-align: center;
      padding: 3rem 2rem;
    }

    .hero-text-content {
      max-width: 900px;
      margin: 0 auto;
    }

    .hero-text-section h1 {
      font-size: 3.2rem;
      color: white;
      margin-bottom: 1rem;
      font-weight: 400;
      letter-spacing: 1px;
    }

    .hero-subtitle {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      font-weight: 300;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: var(--accent-gold);
    }

    .hero-location {
      font-size: 1rem;
      margin-bottom: 1.8rem;
      font-weight: 300;
      color: rgba(255, 255, 255, 0.9);
    }

    .hero-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Slideshow Section */
    .slideshow-section {
      position: relative;
      height: 70vh;
      min-height: 500px;
      overflow: hidden;
      background: #000;
    }

    .slideshow-container {
      position: relative;
      height: 100%;
      width: 100%;
    }

    .hero-slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 1.2s ease-in-out;
      background-size: cover;
      background-position: center;
      display: block;
      cursor: pointer;
    }

    .hero-slide.active {
      opacity: 1;
    }

    /* Navigation Controls */
    .slide-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 10;
      background: rgba(255, 255, 255, 0.95);
      border: none;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }

    .slide-nav:hover {
      background: var(--accent-gold);
      transform: translateY(-50%) scale(1.1);
    }

    .slide-nav svg {
      width: 24px;
      height: 24px;
      fill: var(--primary-dark);
      transition: fill 0.3s ease;
    }

    .slide-nav:hover svg {
      fill: white;
    }

    .slide-nav.prev {
      left: 2rem;
    }

    .slide-nav.next {
      right: 2rem;
    }

    /* Slide Indicators */
    .slide-indicators {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.8rem;
      z-index: 10;
    }

    .indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      border: 2px solid white;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: white;
      transform: scale(1.2);
    }

    .indicator:hover {
      background: var(--accent-gold);
      border-color: var(--accent-gold);
    }

    .btn {
      display: inline-block;
      padding: 0.85rem 2rem;
      background: var(--accent-gold);
      color: white;
      text-decoration: none;
      font-weight: 500;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      border: 2px solid var(--accent-gold);
      text-transform: uppercase;
      font-size: 0.85rem;
    }

    .btn:hover {
      background: transparent;
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(193, 154, 91, 0.3);
    }

    .btn-outline {
      background: transparent;
      border: 2px solid white;
    }

    .btn-outline:hover {
      background: white;
      color: var(--primary-dark);
    }

    /* Introduction Section */
    .intro-section {
      padding: 8rem 4rem;
      background: var(--bg-white);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 5rem;
      align-items: start;
    }

    .intro-image {
      width: 100%;
      height: 600px;
      object-fit: cover;
      box-shadow: 20px 20px 0 var(--accent-gold);
    }

    .intro-content h2 {
      font-size: 3.5rem;
      margin-bottom: 2rem;
      line-height: 1.1;
      margin-top: 0;
    }

    .intro-content p {
      font-size: 1.1rem;
      color: var(--text-light);
      margin-bottom: 1.5rem;
      line-height: 1.8;
    }

    /* Testimonials Section */
    .testimonials-section {
      padding: 8rem 4rem;
      background: var(--bg-cream);
    }

    .section-title {
      text-align: center;
      font-size: 3.5rem;
      margin-bottom: 4rem;
    }

    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .testimonial-card {
      background: white;
      padding: 3rem;
      border-left: 4px solid var(--accent-gold);
      box-shadow: 0 5px 30px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease;
    }

    .testimonial-card:hover {
      transform: translateY(-5px);
    }

    .testimonial-text {
      font-size: 1.05rem;
      line-height: 1.8;
      color: var(--text-light);
      margin-bottom: 2rem;
      font-style: italic;
    }

    .testimonial-author {
      font-weight: 600;
      color: var(--primary-dark);
      font-size: 1.1rem;
    }

    /* Gallery Preview Section */
    .gallery-section {
      padding: 8rem 4rem;
      background: var(--bg-white);
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      max-width: 1400px;
      margin: 3rem auto 0;
    }

    .gallery-item {
      position: relative;
      overflow: hidden;
      height: 400px;
      cursor: pointer;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .gallery-item:hover img {
      transform: scale(1.1);
    }

    /* Service Area Map Section */
    .map-section {
      padding: 4rem 4rem 8rem;
      background: var(--bg-white);
    }

    .map-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .map-intro {
      text-align: center;
      margin-bottom: 3rem;
    }

    .map-intro h2 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
    }

    .map-intro p {
      font-size: 1.2rem;
      color: var(--text-light);
      max-width: 800px;
      margin: 0 auto;
    }

    #map {
      height: 600px;
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }

    .map-buttons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .map-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      background: var(--primary-dark);
      color: white;
      text-decoration: none;
      font-weight: 500;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      border-radius: 4px;
      font-size: 0.95rem;
    }

    .map-btn:hover {
      background: var(--accent-gold);
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(193, 154, 91, 0.3);
    }

    .map-btn svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    .leaflet-popup-content-wrapper {
      border-radius: 8px;
      padding: 0;
    }

    .leaflet-popup-content {
      margin: 0;
      min-width: 220px;
    }

    .popup-content {
      padding: 1rem;
    }

    .popup-content h3 {
      margin: 0 0 0.5rem;
      font-size: 1.1rem;
      color: var(--primary-dark);
    }

    .popup-content p {
      margin: 0 0 0.75rem;
      font-size: 0.9rem;
      color: var(--text-light);
    }

    .popup-link {
      display: inline-block;
      padding: 0.5rem 1rem;
      background: var(--accent-gold);
      color: white;
      text-decoration: none;
      font-size: 0.85rem;
      border-radius: 4px;
      transition: background 0.3s ease;
    }

    .popup-link:hover {
      background: var(--primary-dark);
    }

    /* Footer */
    .footer {
      background: var(--primary-dark);
      color: white;
      padding: 4rem 4rem 2rem;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4rem;
      max-width: 1400px;
      margin: 0 auto 3rem;
    }

    .footer h3 {
      color: var(--accent-gold);
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
    }

    .footer p, .footer a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      line-height: 2;
    }

    .footer a:hover {
      color: var(--accent-gold);
    }

    .social-icons {
      display: flex;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .social-icons a {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .social-icons a:hover {
      background: var(--accent-gold);
      transform: translateY(-3px);
    }

    .footer-bottom {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.6);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .nav-container { padding: 1rem 2rem; }
      .gallery-grid { grid-template-columns: repeat(2, 1fr); }
      .testimonials-grid { grid-template-columns: repeat(2, 1fr); }
      .slide-nav { width: 50px; height: 50px; }
      .slide-nav.prev { left: 1rem; }
      .slide-nav.next { right: 1rem; }
    }

    @media (max-width: 768px) {
      .mobile-menu-btn { display: block; }

      .nav-menu {
        position: fixed;
        top: 80px;
        left: -100%;
        width: 100%;
        height: calc(100vh - 80px);
        background: white;
        flex-direction: column;
        padding: 2rem;
        transition: left 0.3s ease;
        align-items: flex-start;
      }

      .nav-menu.active { left: 0; }

      .hero-text-section h1 { font-size: 2rem; }
      .hero-subtitle { font-size: 0.9rem; }
      .hero-location { font-size: 0.9rem; }
      .hero-buttons { flex-direction: column; }
      .hero-text-section { padding: 2rem 1.5rem; }

      .slideshow-section { height: 50vh; min-height: 400px; }

      .slide-nav { width: 45px; height: 45px; }
      .slide-nav.prev { left: 0.5rem; }
      .slide-nav.next { right: 0.5rem; }
      .slide-nav svg { width: 20px; height: 20px; }

      .two-column {
        grid-template-columns: 1fr;
        gap: 3rem;
      }

      .intro-image { height: 400px; }
      .intro-content h2 { font-size: 2.5rem; }

      .testimonials-grid { grid-template-columns: 1fr; }
      .gallery-grid { grid-template-columns: 1fr; }

      .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .btn-outline {
        margin-left: 0;
        margin-top: 0;
      }

      /* Map section mobile styles */
      .map-section {
        padding: 3rem 2rem 4rem;
      }

      .map-intro h2 {
        font-size: 2.5rem;
      }

      .map-intro p {
        font-size: 1rem;
      }

      #map {
        height: 400px;
      }

      .map-buttons {
        flex-direction: column;
        gap: 1rem;
      }

      .map-btn {
        width: 100%;
        justify-content: center;
      }
    }

    /* Extra small devices (iPhone SE, older phones) */
    @media (max-width: 480px) {
      .nav-container {
        padding: 1rem;
      }

      .logo {
        font-size: 1.3rem;
      }

      .logo-image {
        height: 35px;
      }

      .hero-text-section h1 {
        font-size: 1.75rem;
      }

      .hero-subtitle {
        font-size: 0.8rem;
      }

      .hero-location {
        font-size: 0.85rem;
      }

      .btn {
        padding: 0.85rem 1.5rem;
        font-size: 0.85rem;
      }

      .intro-section,
      .testimonials-section,
      .gallery-section,
      .map-section {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }

      .section-title {
        font-size: 2.5rem;
      }

      .intro-content h2 {
        font-size: 2rem;
      }

      .testimonial-card {
        padding: 2rem;
      }

      .map-intro h2 {
        font-size: 2rem;
      }

      .map-intro p {
        font-size: 0.95rem;
      }

      #map {
        height: 350px;
      }

      .map-btn {
        font-size: 0.85rem;
        padding: 0.85rem 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header Navigation -->
  <header class="header">
    <div class="nav-container">
      <a href="#" class="logo">
        <img src="conlanlogo.png" alt="C. M. Conlan Logo" class="logo-image" />
        <span>C. M. Conlan Contractors &amp; Builders</span>
      </a>
      <button class="mobile-menu-btn" onclick="toggleMenu()">â˜°</button>
      <nav>
        <ul class="nav-menu" id="navMenu">
          <li><a href="#home">Home</a></li>
          <li><a href="#gallery">Photo Gallery</a></li>
          <li><a href="our-homes.html">Our Homes</a></li>
          <li><a href="coming-soon.html">Coming Soon</a></li>
          <li class="dropdown">
            <a href="#about">About</a>
            <div class="dropdown-content">
              <a href="#awards">Awards</a>
              <a href="#certifications">Licenses &amp; Certifications</a>
              <a href="#testimonials">Our Clients</a>
            </div>
          </li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <!-- Text Section Above Slideshow -->
    <div class="hero-text-section">
      <div class="hero-text-content">
        <h1>Building and Renovating Fine Homes</h1>
        <p class="hero-subtitle">Expert Craftsmanship, Built to Last</p>
        <p class="hero-location">In Montgomery County, MD and the Greater Washington, D.C. Area</p>
        <div class="hero-buttons">
          <a href="#about" class="btn">About Us</a>
          <a href="#gallery" class="btn btn-outline">View Our Work</a>
        </div>
      </div>
    </div>

    <!-- Slideshow Section -->
    <div class="slideshow-section">
      <div class="slideshow-container" id="slideshowContainer">
        <!-- Slides will be loaded dynamically from sold homes -->
      </div>

      <!-- Navigation Buttons -->
      <button class="slide-nav prev" onclick="changeSlide(-1)" aria-label="Previous slide">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      </button>
      <button class="slide-nav next" onclick="changeSlide(1)" aria-label="Next slide">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
        </svg>
      </button>

      <!-- Slide Indicators -->
      <div class="slide-indicators" id="slideIndicators">
        <!-- Indicators will be generated dynamically -->
      </div>
    </div>
  </section>

  <!-- Introduction Section -->
  <section class="intro-section" id="about">
    <div class="container">
      <div class="two-column">
        <img src="chrisconlanheadshot.png" alt="Chris Conlan - Award-Winning Custom Home Builder" class="intro-image" />
        <div class="intro-content">
          <h2>Meet Chris Conlan</h2>
          <p><strong>C. M. Conlan Contractors and Builders</strong> is a Bethesda-based firm well-known for its expertise in custom home construction and renovations throughout Montgomery County, Marylandâ€”including Chevy Chase, Potomac, Rockville, and surrounding areas.</p>
          <p>Founded in 1989 by Chris Conlan, our company has developed a reputation for expert craftsmanship, close attention to detail, and exceptional strength in design. With over 35 years of experience as a residential home builder and a background in real estate, Chris is an award-winning builder recognized by the Montgomery County Builder's Association and has been featured in Bethesda Magazine as one of the area's top builders.</p>
          <p>We specialize in creating custom homes tailored to each family's specific needsâ€”whether on a lot we help you find, a lot you currently own, or one of our available lots. We also offer expert renovations and additions for homeowners looking to upgrade. At C. M. Conlan, we believe in developing strong relationships between builder and client. You can depend on Chris to work closely with you throughout the entire process, remaining active and accessible from start to finish.</p>
          <p>Our company is also a proud supporter of <strong>Rebuilding Together Montgomery County</strong>, a local nonprofit that provides renovations and housing support for underprivileged families. Chris has served as an active board member, led multiple home renovation projects, and participated in the RTMC Playhouse Projectâ€”giving the gift of home to those in need.</p>
          <a href="#portfolio" class="btn" style="margin-top: 1rem;">Browse Our Projects</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery Preview Section -->
  <section class="gallery-section" id="gallery">
    <div class="container">
      <h2 class="section-title">Our Recent Work</h2>
      <div class="gallery-grid">
        <div class="gallery-item">
          <img src="home_1.jpg" alt="Modern Custom Home" />
        </div>
        <div class="gallery-item">
          <img src="home_2.jpg" alt="Elegant Custom Home" />
        </div>
        <div class="gallery-item">
          <img src="home_3.jpg" alt="Coastal Style Home" />
        </div>
        <div class="gallery-item">
          <img src="home_4.jpg" alt="Craftsman Style Home" />
        </div>
        <div class="gallery-item">
          <img src="home_5.jpg" alt="Traditional Custom Home" />
        </div>
        <div class="gallery-item">
          <img src="home_7.jpg" alt="Luxury Custom Home" />
        </div>
      </div>

      <div style="text-align: center; margin-top: 3rem;">
        <a href="#portfolio" class="btn">View Full Gallery</a>
      </div>
    </div>
  </section>

  <!-- Service Area Map Section -->
  <section class="map-section" id="service-area">
    <div class="map-container">
      <div class="map-intro">
        <h2 class="section-title">Our Footprint</h2>
        <p>Explore our footprint across Montgomery County, Maryland. Each pin represents a custom home we've built with pride.</p>
      </div>

      <div id="map"></div>

      <div class="map-buttons">
        <a href="#" id="googleMapsBtn" class="map-btn" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
          </svg>
          View in Google Maps
        </a>
        <a href="#" id="appleMapsBtn" class="map-btn" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
          </svg>
          View in Apple Maps
        </a>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section" id="testimonials">
    <div class="container">
      <h2 class="section-title">What Our Clients Say</h2>
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <p class="testimonial-text">"As a home builder myself, I appreciated the high quality and terrific service we received when Chris and his team built our custom home. They made it easy for us, from helping to design what we wanted to the final turnover. Everyone had a positive can-do attitude and was good to work with."</p>
          <p class="testimonial-author">â€” Terry Eakin</p>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">"Chris's personal attention, focus on detail, customer orientation, high quality standards, and creativity in solving tough issues are unmatched. I can't imagine building a house with anyone else. Highly recommended!"</p>
          <p class="testimonial-author">â€” Harris Family</p>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">"We bought our beautiful new home from C. M. Conlan and it still wows us years later. Every system has worked perfectly, and I am not easy to please. The craftsmanship is honestly perfection."</p>
          <p class="testimonial-author">â€” The Jacobs</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" id="contact">
    <div class="container">
      <div class="footer-content">
        <div>
          <h3>C. M. Conlan Contractors &amp; Builders</h3>
          <p>Building exceptional homes and lasting relationships in Montgomery County since 1989</p>
          <p style="margin-top: 2rem;">Â© 2026 C. M. Conlan Contractors &amp; Builders<br />All Rights Reserved</p>
        </div>

        <div>
          <h3>Contact Us</h3>
          <p>Bethesda, Maryland</p>
          <p>Office: 301-983-1301</p>
          <p>Fax: 301-983-2544</p>
          <p>Email: <a href="/cdn-cgi/l/email-protection#7e1d160c170d3e1d131d1110121f10501d1113"><span class="__cf_email__" data-cfemail="f09398829983b0939d939f9e9c919ede939f9d">[email&#160;protected]</span></a></p>
        </div>

        <div>
          <h3>Connect With Us</h3>
          <div class="social-icons">
            <a href="#" aria-label="Facebook">f</a>
            <a href="#" aria-label="Instagram">ðŸ“·</a>
            <a href="#" aria-label="LinkedIn">in</a>
            <a href="#" aria-label="Houzz">H</a>
          </div>
          <p style="margin-top: 2rem;"><a href="#awards">Awards &amp; Certifications</a></p>
          <p><a href="#testimonials">Client Testimonials</a></p>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Proudly serving all of Montgomery County, Maryland</p>
      </div>
    </div>
  </footer>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    // Smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          target.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });
    });

    // Header scroll effect
    window.addEventListener("scroll", () => {
      const header = document.querySelector(".header");
      if (window.scrollY > 50) header.classList.add("scrolled");
      else header.classList.remove("scrolled");
    });

    // Mobile menu toggle
    function toggleMenu() {
      const navMenu = document.getElementById("navMenu");
      navMenu.classList.toggle("active");
    }

    // Slideshow functionality - Dynamic loading from sold homes
    let currentSlide = 0;
    let autoSlideInterval;
    let slides = [];
    let indicators = [];
    let totalSlides = 0;
    let soldHomes = [];

    // Load sold homes and initialize slideshow
    async function loadSlideshowHomes() {
      try {
        const response = await fetch('/api/get-homes');
        if (response.ok) {
          const data = await response.json();
          soldHomes = (data.items || []).filter(h => h.status === 'Sold');
        }
      } catch (error) {
        console.error('Error loading homes for slideshow:', error);
      }

      // Fallback to static images if no sold homes
      if (soldHomes.length === 0) {
        soldHomes = [
          { id: 'static1', primaryImage: 'home_1.jpg', headline: 'Custom Home' },
          { id: 'static2', primaryImage: 'home_2.jpg', headline: 'Custom Home' },
          { id: 'static3', primaryImage: 'home_3.jpg', headline: 'Custom Home' },
          { id: 'static4', primaryImage: 'home_4.jpg', headline: 'Custom Home' },
          { id: 'static5', primaryImage: 'home_5.jpg', headline: 'Custom Home' },
          { id: 'static6', primaryImage: 'home_6.jpg', headline: 'Custom Home' }
        ];
      }

      // Create slides HTML
      const slideshowContainer = document.getElementById('slideshowContainer');
      const slideIndicators = document.getElementById('slideIndicators');

      slideshowContainer.innerHTML = soldHomes.map((home, index) => `
        <a href="${home.id.startsWith('static') ? '#gallery' : 'home-details.html?id=' + home.id}" 
           class="hero-slide ${index === 0 ? 'active' : ''}" 
           style="background-image: url('${home.primaryImage}')"
           aria-label="View ${home.headline}">
        </a>
      `).join('');

      slideIndicators.innerHTML = soldHomes.map((_, index) => `
        <span class="indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></span>
      `).join('');

      // Update references
      slides = document.querySelectorAll('.hero-slide');
      indicators = document.querySelectorAll('.indicator');
      totalSlides = slides.length;

      // Initialize slideshow
      if (totalSlides > 0) {
        showSlide(0);
        startAutoSlide();
      }
    }

    function showSlide(index) {
      if (totalSlides === 0) return;
      
      // Wrap around
      if (index >= totalSlides) currentSlide = 0;
      else if (index < 0) currentSlide = totalSlides - 1;
      else currentSlide = index;

      // Update slides
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === currentSlide);
      });

      // Update indicators
      indicators.forEach((indicator, i) => {
        indicator.classList.toggle('active', i === currentSlide);
      });
    }

    function changeSlide(direction) {
      showSlide(currentSlide + direction);
      resetAutoSlide();
    }

    function goToSlide(index) {
      showSlide(index);
      resetAutoSlide();
    }

    function resetAutoSlide() {
      clearInterval(autoSlideInterval);
      startAutoSlide();
    }

    function startAutoSlide() {
      autoSlideInterval = setInterval(() => {
        showSlide(currentSlide + 1);
      }, 6000); // Auto-advance every 6 seconds
    }

    // Load slideshow on page load
    loadSlideshowHomes();

    // Pause auto-slide on hover
    const slideshowSection = document.querySelector('.slideshow-section');
    if (slideshowSection) {
      slideshowSection.addEventListener('mouseenter', () => {
        clearInterval(autoSlideInterval);
      });
      slideshowSection.addEventListener('mouseleave', () => {
        startAutoSlide();
      });
    }
  </script>

  <!-- Leaflet JavaScript Library -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <!-- Map Initialization Script -->
  <script>
    // Initialize the map
    let map;
    let markers = [];
    let homesData = [];

    async function initMap() {
      // Create map centered on Bethesda, MD
      map = L.map('map').setView([38.9807, -77.0947], 12);

      // Add OpenStreetMap tiles
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 19
      }).addTo(map);

      // Load sold homes and add markers
      await loadHomesForMap();
    }

    async function loadHomesForMap() {
      try {
        const response = await fetch('/api/get-homes');
        if (response.ok) {
          const data = await response.json();
          console.log('Raw homes data:', data);
          
          // Try to get sold homes first, then all homes if none are sold
          homesData = (data.items || []).filter(h => h.status === 'Sold');
          
          if (homesData.length === 0) {
            console.warn('No sold homes found, showing all homes on map');
            homesData = data.items || [];
          }
          
          console.log(`Found ${homesData.length} homes for map:`, homesData);
          
          if (homesData.length === 0) {
            console.error('No homes data available for map');
            return;
          }
          
          // Add markers for each home with delay to avoid rate limiting
          for (let i = 0; i < homesData.length; i++) {
            const home = homesData[i];
            console.log(`Geocoding ${i + 1}/${homesData.length}: ${home.street}, ${home.city}, ${home.state} ${home.zip}`);
            await addMarker(home);
            
            // Wait 1 second between requests to respect Nominatim rate limits
            if (i < homesData.length - 1) {
              await new Promise(resolve => setTimeout(resolve, 1000));
            }
          }

          // Fit map to show all markers if any exist
          if (markers.length > 0) {
            console.log(`âœ“ Successfully placed ${markers.length} markers on map`);
            const group = new L.featureGroup(markers);
            map.fitBounds(group.getBounds().pad(0.1));
          } else {
            console.error('âœ— No markers were placed on the map. Check geocoding errors above.');
          }
        } else {
          console.error('Failed to fetch homes:', response.status);
        }
      } catch (error) {
        console.error('Error loading homes for map:', error);
      }
    }

    async function addMarker(home) {
      // Create full address string
      const address = `${home.street}, ${home.city}, ${home.state} ${home.zip || ''}`.trim();
      
      try {
        // Geocode the address using Nominatim (OpenStreetMap's geocoding service)
        const coords = await geocodeAddress(address);
        
        if (coords) {
          // Create custom icon (red pin)
          const customIcon = L.divIcon({
            className: 'custom-marker',
            html: `<div style="background: #e74c3c; width: 30px; height: 30px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); border: 3px solid white; box-shadow: 0 3px 10px rgba(0,0,0,0.3);"></div>`,
            iconSize: [30, 30],
            iconAnchor: [15, 30],
            popupAnchor: [0, -30]
          });

          // Create marker
          const marker = L.marker(coords, { icon: customIcon }).addTo(map);
          
          // Create popup content
          const popupContent = `
            <div class="popup-content">
              <h3>${home.headline}</h3>
              <p>${address}</p>
              <a href="home-details.html?id=${home.id}" class="popup-link">View Details</a>
            </div>
          `;
          
          marker.bindPopup(popupContent);
          markers.push(marker);
          
          console.log(`âœ“ Marker placed for: ${home.headline}`);
        } else {
          console.warn(`âœ— Could not place marker for: ${home.headline} - geocoding failed`);
        }
      } catch (error) {
        console.error(`Error geocoding ${address}:`, error);
      }
    }

    async function geocodeAddress(address) {
      // Temporary hardcoded coordinates for known addresses
      const knownAddresses = {
        '9909 Logan Dr, Potomac, MD 20854': [39.0297, -77.1525]
      };
      
      // Check if we have hardcoded coordinates
      const normalized = address.trim();
      if (knownAddresses[normalized]) {
        console.log(`âœ“ Using known coordinates for: ${address}`);
        return knownAddresses[normalized];
      }
      
      try {
        console.log(`Geocoding via server: ${address}`);
        
        const response = await fetch('/api/geocode-address', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ address })
        });
        
        if (!response.ok) {
          console.error(`Geocoding HTTP error: ${response.status}`);
          return null;
        }
        
        const data = await response.json();
        
        if (data.success) {
          console.log(`âœ“ Geocoded: [${data.lat}, ${data.lon}] - ${data.display_name}`);
          return [data.lat, data.lon];
        } else {
          console.warn(`âœ— No results found for: ${address}`);
          return null;
        }
        
      } catch (error) {
        console.error(`âœ— Geocoding error for ${address}:`, error);
        return null;
      }
    }

    // Update Google Maps and Apple Maps buttons
    function updateMapButtons() {
      if (homesData.length === 0) return;

      // Create a multi-location Google Maps URL
      const googleMapsUrl = `https://www.google.com/maps/dir/${homesData.map(h => 
        encodeURIComponent(`${h.street}, ${h.city}, ${h.state} ${h.zip || ''}`)
      ).join('/')}`;
      
      // For Apple Maps, we'll use the first home as center
      const firstHome = homesData[0];
      const appleMapsUrl = `https://maps.apple.com/?q=${encodeURIComponent(
        `${firstHome.street}, ${firstHome.city}, ${firstHome.state} ${firstHome.zip || ''}`
      )}`;

      document.getElementById('googleMapsBtn').href = googleMapsUrl;
      document.getElementById('appleMapsBtn').href = appleMapsUrl;
    }

    // Initialize map when page loads
    window.addEventListener('load', () => {
      initMap();
      setTimeout(updateMapButtons, 2000); // Update after markers are loaded
    });
  </script>
</body>
</html>
